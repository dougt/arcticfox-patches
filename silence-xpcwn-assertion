# HG changeset patch
# User Ted Mielczarek <ted.mielczarek@gmail.com>
# Date 1289971661 18000
# Node ID 61b8e9c36a28237e7a034c87733d1f832847f1fd
# Parent  5f61c25044225eebbff48322c1f296622812612d
imported patch silence-xpcwn-assertion

diff --git a/js/src/xpconnect/src/xpcwrappednativeinfo.cpp b/js/src/xpconnect/src/xpcwrappednativeinfo.cpp
--- a/js/src/xpconnect/src/xpcwrappednativeinfo.cpp
+++ b/js/src/xpconnect/src/xpcwrappednativeinfo.cpp
@@ -261,7 +261,9 @@
     NS_ENSURE_TRUE(info, nsnull);
 
     iface = NewInstance(ccx, info);
-    NS_ENSURE_TRUE(iface, nsnull);
+    //NS_ENSURE_TRUE(iface, nsnull);
+    if (!iface)
+        return nsnull;
 
     {   // scoped lock
         XPCAutoLock lock(rt->GetMapLock());
