# HG changeset patch
# User Ted Mielczarek <ted.mielczarek@gmail.com>
# Date 1289971661 18000
# Node ID 933a10369eb71774dd9bb58ab62286cbf23a9d04
# Parent  cd69b2faba87f5a58337cddc9f717f64311e0215
imported patch silence-xpcwn-assertion

diff --git a/js/src/xpconnect/src/xpcwrappednativeinfo.cpp b/js/src/xpconnect/src/xpcwrappednativeinfo.cpp
--- a/js/src/xpconnect/src/xpcwrappednativeinfo.cpp
+++ b/js/src/xpconnect/src/xpcwrappednativeinfo.cpp
@@ -256,7 +256,9 @@
     NS_ENSURE_TRUE(info, nsnull);
 
     iface = NewInstance(ccx, info);
-    NS_ENSURE_TRUE(iface, nsnull);
+    //NS_ENSURE_TRUE(iface, nsnull);
+    if (!iface)
+        return nsnull;
 
     {   // scoped lock
         XPCAutoLock lock(rt->GetMapLock());
