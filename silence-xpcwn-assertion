# HG changeset patch
# User Ted Mielczarek <ted.mielczarek@gmail.com>
# Date 1289971661 18000
# Node ID f0607f43771697b6057e4c0fa1e99caa8f3970d7
# Parent  41d8fb42ed458752d13d3aa5858d6aef92c41499
imported patch silence-xpcwn-assertion

diff --git a/js/src/xpconnect/src/xpcwrappednativeinfo.cpp b/js/src/xpconnect/src/xpcwrappednativeinfo.cpp
--- a/js/src/xpconnect/src/xpcwrappednativeinfo.cpp
+++ b/js/src/xpconnect/src/xpcwrappednativeinfo.cpp
@@ -256,7 +256,9 @@
     NS_ENSURE_TRUE(info, nsnull);
 
     iface = NewInstance(ccx, info);
-    NS_ENSURE_TRUE(iface, nsnull);
+    //NS_ENSURE_TRUE(iface, nsnull);
+    if (!iface)
+        return nsnull;
 
     {   // scoped lock
         XPCAutoLock lock(rt->GetMapLock());
