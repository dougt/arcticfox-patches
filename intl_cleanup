diff --git a/intl/build/Makefile.in b/intl/build/Makefile.in
--- a/intl/build/Makefile.in
+++ b/intl/build/Makefile.in
@@ -66,7 +66,7 @@
 ifneq (,$(filter mac os2 windows, $(MOZ_WIDGET_TOOLKIT)))
 LOCALE_DIR		= $(MOZ_WIDGET_TOOLKIT)
 else
-ifeq ($(MOZ_WIDGET_TOOLKIT), cocoa)
+ifeq ($(MOZ_WIDGET_TOOLKIT)_$(IPHONE), cocoa_)
 LOCALE_DIR		= mac
 else
 LOCALE_DIR		= unix
@@ -95,9 +95,11 @@
 	$(NULL)
 
 ifneq (,$(filter mac cocoa,$(MOZ_WIDGET_TOOLKIT)))
+ifndef IPHONE
 EXTRA_DSO_LDOPTS += \
         $(TK_LIBS) \
         $(NULL)
+endif
 endif
 
 include $(topsrcdir)/config/rules.mk
diff --git a/intl/locale/src/Makefile.in b/intl/locale/src/Makefile.in
--- a/intl/locale/src/Makefile.in
+++ b/intl/locale/src/Makefile.in
@@ -56,7 +56,7 @@
 ifneq (,$(filter mac os2 windows, $(MOZ_WIDGET_TOOLKIT)))
 DIRS		= $(MOZ_WIDGET_TOOLKIT)
 else
-ifeq ($(MOZ_WIDGET_TOOLKIT), cocoa)
+ifeq ($(MOZ_WIDGET_TOOLKIT)_$(IPHONE), cocoa_)
 DIRS		= mac
 else
 DIRS		= unix
diff --git a/intl/locale/src/nsLocaleConstructors.h b/intl/locale/src/nsLocaleConstructors.h
--- a/intl/locale/src/nsLocaleConstructors.h
+++ b/intl/locale/src/nsLocaleConstructors.h
@@ -48,8 +48,12 @@
 #include "nsLanguageAtomService.h"
 #include "nsLocaleCID.h"
 
-#if defined(XP_MAC) || defined(XP_MACOSX)
+#if defined(XP_MAC) || defined(XP_MACOSX) && !defined(IPHONE)
 #define USE_MAC_LOCALE
+#endif
+
+#if defined(IPHONE)
+#define USE_UNIX_LOCALE
 #endif
 
 #if (defined(XP_UNIX) && !defined(XP_MACOSX)) || defined(XP_BEOS)
diff --git a/intl/locale/src/nsLocaleService.cpp b/intl/locale/src/nsLocaleService.cpp
--- a/intl/locale/src/nsLocaleService.cpp
+++ b/intl/locale/src/nsLocaleService.cpp
@@ -53,7 +53,7 @@
 #elif defined(XP_OS2)
 #  include "unidef.h"
 #  include "nsIOS2Locale.h"
-#elif defined(XP_MACOSX)
+#elif defined(XP_MACOSX) && !defined(IPHONE)
 #  include <Script.h>
 #  include <Carbon/Carbon.h>
 #  include "nsIMacLocale.h"
@@ -259,7 +259,7 @@
     }  // if ( NS_SUCCEEDED )...
 #endif  // XP_OS2
 
-#ifdef XP_MACOSX
+#if defined(XP_MACOSX) && !defined(IPHONE)
     // Get string representation of user's current locale
     CFLocaleRef userLocaleRef = ::CFLocaleCopyCurrent();
     CFStringRef userLocaleStr = ::CFLocaleGetIdentifier(userLocaleRef);
diff --git a/intl/lwbrk/src/Makefile.in b/intl/lwbrk/src/Makefile.in
--- a/intl/lwbrk/src/Makefile.in
+++ b/intl/lwbrk/src/Makefile.in
@@ -68,7 +68,7 @@
 		nsUniscribeBreaker.cpp \
 		$(NULL)
 else
-ifeq ($(MOZ_WIDGET_TOOLKIT), cocoa)
+ifeq ($(MOZ_WIDGET_TOOLKIT)_$(IPHONE), cocoa_)
 CPPSRCS		+= \
 		nsCarbonBreaker.cpp \
 		$(NULL)
diff --git a/intl/uconv/src/Makefile.in b/intl/uconv/src/Makefile.in
--- a/intl/uconv/src/Makefile.in
+++ b/intl/uconv/src/Makefile.in
@@ -104,8 +104,14 @@
 EXPORT_RESOURCE		+= wincharset.properties
 else
 ifneq (,$(filter cocoa mac, $(MOZ_WIDGET_TOOLKIT)))
+ifndef IPHONE
 CPPSRCS			+= nsMacCharset.cpp
 EXPORT_RESOURCE		+= maccharset.properties
+else
+#XXX: clean this up
+CPPSRCS			+= nsUNIXCharset.cpp
+EXPORT_RESOURCE		+= unixcharset.properties
+endif
 else
 ifeq ($(OS_ARCH),BeOS)
 CPPSRCS			+= nsBeOSCharset.cpp
