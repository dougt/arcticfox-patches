# HG changeset patch
# User Ted Mielczarek <ted.mielczarek@gmail.com>
# Date 1272373066 14400
# Node ID 5e2db0770a38031f4b22aa832bdc7f36922fd6d4
# Parent  08c600e86f812bfc162f9ef4c430df6f521554e8
imported patch toolkit-profile-service-uikit

diff --git a/toolkit/profile/src/nsToolkitProfileService.cpp b/toolkit/profile/src/nsToolkitProfileService.cpp
--- a/toolkit/profile/src/nsToolkitProfileService.cpp
+++ b/toolkit/profile/src/nsToolkitProfileService.cpp
@@ -56,7 +56,7 @@
 #include "nsILocalFile.h"
 #include "nsISimpleEnumerator.h"
 
-#ifdef XP_MACOSX
+#ifdef MOZ_WIDGET_COCOA
 #include <CoreFoundation/CoreFoundation.h>
 #include "nsILocalFileMac.h"
 #endif
@@ -897,7 +897,7 @@
 nsresult
 XRE_GetFileFromPath(const char *aPath, nsILocalFile* *aResult)
 {
-#if defined(XP_MACOSX)
+#if defined(MOZ_WIDGET_COCOA)
     PRInt32 pathLen = strlen(aPath);
     if (pathLen > MAXPATHLEN)
         return NS_ERROR_INVALID_ARG;
