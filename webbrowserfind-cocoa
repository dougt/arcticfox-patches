# HG changeset patch
# User Ted Mielczarek <ted.mielczarek@gmail.com>
# Date 1272373065 14400
# Node ID 74d106c66ed3d643532356411d9601d04d4d5e2c
# Parent  70a4b5abae1d923e58fba04e5e21ecb75180f4cd
imported patch webbrowserfind-cocoa

diff --git a/embedding/components/find/src/nsWebBrowserFind.cpp b/embedding/components/find/src/nsWebBrowserFind.cpp
--- a/embedding/components/find/src/nsWebBrowserFind.cpp
+++ b/embedding/components/find/src/nsWebBrowserFind.cpp
@@ -82,7 +82,7 @@
 #include "nsXPIDLString.h"
 #endif
 
-#if defined(XP_MACOSX) && !defined(__LP64__)
+#if defined(MOZ_WIDGET_COCOA) && !defined(__LP64__)
 #include "nsAutoPtr.h"
 #include <Carbon/Carbon.h>
 #endif
@@ -281,7 +281,7 @@
 NS_IMETHODIMP nsWebBrowserFind::GetSearchString(PRUnichar * *aSearchString)
 {
     NS_ENSURE_ARG_POINTER(aSearchString);
-#if defined(XP_MACOSX) && !defined(__LP64__)
+#if defined(MOZ_WIDGET_COCOA) && !defined(__LP64__)
     OSStatus err;
     ScrapRef scrap;
     err = ::GetScrapByName(kScrapFindScrap, kScrapGetNamedScrap, &scrap);
@@ -307,7 +307,7 @@
 NS_IMETHODIMP nsWebBrowserFind::SetSearchString(const PRUnichar * aSearchString)
 {
     mSearchString.Assign(aSearchString);
-#if defined(XP_MACOSX) && !defined(__LP64__)
+#if defined(MOZ_WIDGET_COCOA) && !defined(__LP64__)
     OSStatus err;
     ScrapRef scrap;
     err = ::GetScrapByName(kScrapFindScrap, kScrapClearNamedScrap, &scrap);
